version: '3.8'

tasks:
  lint:
    desc: 'Lint and type check the code'
    cmds:
      - ruff format
      - ruff check --fix
      - mypy concert_db/ tests/

  test:
    desc: 'Run tests'
    cmd: pytest

  all:
    desc: 'Run all checks'
    deps: [lint, test]

  app:
    env:
      ENVIRONMENT: development
    desc: 'Run the application'
    cmd: python -m concert_db.app

  seed:
    env:
      ENVIRONMENT: development
    desc: 'Seed the database with dummy data'
    cmd: python add_sample_data.py
